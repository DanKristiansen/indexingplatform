<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_22) on Mon Aug 15 20:51:09 CEST 2011 -->
<TITLE>
XPathQueryServiceImpl
</TITLE>

<META NAME="keywords" CONTENT="org.exist.xmldb.XPathQueryServiceImpl interface">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="XPathQueryServiceImpl";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/exist/xmldb/XmldbURI.html" title="class in org.exist.xmldb"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/exist/xmldb/XQueryService.html" title="interface in org.exist.xmldb"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/exist/xmldb/XPathQueryServiceImpl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="XPathQueryServiceImpl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.exist.xmldb</FONT>
<BR>
Interface XPathQueryServiceImpl</H2>
<DL>
<DT><B>All Superinterfaces:</B> <DD><A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/Configurable.html" title="class or interface in org.xmldb.api.base">Configurable</A>, <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/Service.html" title="class or interface in org.xmldb.api.base">Service</A>, <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/modules/XPathQueryService.html" title="class or interface in org.xmldb.api.modules">XPathQueryService</A></DD>
</DL>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../org/exist/xmldb/LocalXPathQueryService.html" title="class in org.exist.xmldb">LocalXPathQueryService</A>, <A HREF="../../../org/exist/xmldb/RemoteXPathQueryService.html" title="class in org.exist.xmldb">RemoteXPathQueryService</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>XPathQueryServiceImpl</B><DT>extends <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/modules/XPathQueryService.html" title="class or interface in org.xmldb.api.modules">XPathQueryService</A></DL>
</PRE>

<P>
Extends <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/modules/XPathQueryService.html" title="class or interface in org.xmldb.api.modules"><CODE>XPathQueryService</CODE></A> by additional
 methods specific to eXist.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Wolfgang <wolfgang@exist-db.org></DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/exist/xmldb/XPathQueryServiceImpl.html#beginProtected()">beginProtected</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Execute all following queries in a protected environment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/exist/xmldb/XPathQueryServiceImpl.html#declareVariable(java.lang.String, java.lang.Object)">declareVariable</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;qname,
                <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html" title="class or interface in java.lang">Object</A>&nbsp;initialValue)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Declare an external XPath variable and assign a value to it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/exist/xmldb/XPathQueryServiceImpl.html#endProtected()">endProtected</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Close the protected environment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/ResourceSet.html" title="class or interface in org.xmldb.api.base">ResourceSet</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/exist/xmldb/XPathQueryServiceImpl.html#query(java.lang.String, java.lang.String)">query</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;query,
      <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;sortExpr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process an XPath query and sort the results by applying a second XPath expression
 to each of the search results.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/ResourceSet.html" title="class or interface in org.xmldb.api.base">ResourceSet</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/exist/xmldb/XPathQueryServiceImpl.html#query(org.xmldb.api.modules.XMLResource, java.lang.String)">query</A></B>(<A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/modules/XMLResource.html" title="class or interface in org.xmldb.api.modules">XMLResource</A>&nbsp;res,
      <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;query)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process an XPath query based on the result of a previous query.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/ResourceSet.html" title="class or interface in org.xmldb.api.base">ResourceSet</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/exist/xmldb/XPathQueryServiceImpl.html#query(org.xmldb.api.modules.XMLResource, java.lang.String, java.lang.String)">query</A></B>(<A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/modules/XMLResource.html" title="class or interface in org.xmldb.api.modules">XMLResource</A>&nbsp;res,
      <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;query,
      <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;sortExpr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process an XPath query based on the result of a previous query and sort the
 results using the second XPath expression.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.xmldb.api.modules.XPathQueryService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from interface org.xmldb.api.modules.<A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/modules/XPathQueryService.html" title="class or interface in org.xmldb.api.modules">XPathQueryService</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/modules/XPathQueryService.html#clearNamespaces()" title="class or interface in org.xmldb.api.modules">clearNamespaces</A>, <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/modules/XPathQueryService.html#getNamespace(java.lang.String)" title="class or interface in org.xmldb.api.modules">getNamespace</A>, <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/modules/XPathQueryService.html#query(java.lang.String)" title="class or interface in org.xmldb.api.modules">query</A>, <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/modules/XPathQueryService.html#queryResource(java.lang.String, java.lang.String)" title="class or interface in org.xmldb.api.modules">queryResource</A>, <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/modules/XPathQueryService.html#removeNamespace(java.lang.String)" title="class or interface in org.xmldb.api.modules">removeNamespace</A>, <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/modules/XPathQueryService.html#setNamespace(java.lang.String, java.lang.String)" title="class or interface in org.xmldb.api.modules">setNamespace</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.xmldb.api.base.Service"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from interface org.xmldb.api.base.<A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/Service.html" title="class or interface in org.xmldb.api.base">Service</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/Service.html#getName()" title="class or interface in org.xmldb.api.base">getName</A>, <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/Service.html#getVersion()" title="class or interface in org.xmldb.api.base">getVersion</A>, <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/Service.html#setCollection(org.xmldb.api.base.Collection)" title="class or interface in org.xmldb.api.base">setCollection</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.xmldb.api.base.Configurable"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from interface org.xmldb.api.base.<A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/Configurable.html" title="class or interface in org.xmldb.api.base">Configurable</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/Configurable.html#getProperty(java.lang.String)" title="class or interface in org.xmldb.api.base">getProperty</A>, <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/Configurable.html#setProperty(java.lang.String, java.lang.String)" title="class or interface in org.xmldb.api.base">setProperty</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="query(org.xmldb.api.modules.XMLResource, java.lang.String)"><!-- --></A><H3>
query</H3>
<PRE>
<A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/ResourceSet.html" title="class or interface in org.xmldb.api.base">ResourceSet</A> <B>query</B>(<A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/modules/XMLResource.html" title="class or interface in org.xmldb.api.modules">XMLResource</A>&nbsp;res,
                  <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;query)
                  throws <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/XMLDBException.html" title="class or interface in org.xmldb.api.base">XMLDBException</A></PRE>
<DL>
<DD>Process an XPath query based on the result of a previous query.
 The XMLResource contains the result received from a previous
 query.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>res</CODE> - an XMLResource as obtained from a previous query.<DD><CODE>query</CODE> - the XPath query
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/XMLDBException.html" title="class or interface in org.xmldb.api.base">XMLDBException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="query(org.xmldb.api.modules.XMLResource, java.lang.String, java.lang.String)"><!-- --></A><H3>
query</H3>
<PRE>
<A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/ResourceSet.html" title="class or interface in org.xmldb.api.base">ResourceSet</A> <B>query</B>(<A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/modules/XMLResource.html" title="class or interface in org.xmldb.api.modules">XMLResource</A>&nbsp;res,
                  <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;query,
                  <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;sortExpr)
                  throws <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/XMLDBException.html" title="class or interface in org.xmldb.api.base">XMLDBException</A></PRE>
<DL>
<DD>Process an XPath query based on the result of a previous query and sort the
 results using the second XPath expression. The XMLResource contains 
 the result received from a previous query.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>res</CODE> - an XMLResource as obtained from a previous query<DD><CODE>query</CODE> - the XPath query<DD><CODE>sortExpr</CODE> - another XPath expression, which is executed relative to
 the results of the primary expression. The result of applying sortExpr is converted
 to a string value, which is then used to sort the results.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/XMLDBException.html" title="class or interface in org.xmldb.api.base">XMLDBException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="query(java.lang.String, java.lang.String)"><!-- --></A><H3>
query</H3>
<PRE>
<A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/ResourceSet.html" title="class or interface in org.xmldb.api.base">ResourceSet</A> <B>query</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;query,
                  <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;sortExpr)
                  throws <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/XMLDBException.html" title="class or interface in org.xmldb.api.base">XMLDBException</A></PRE>
<DL>
<DD>Process an XPath query and sort the results by applying a second XPath expression
 to each of the search results. The result of applying the sort expression is converted
 into a string, which is then used to sort the set of results.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>query</CODE> - the XPath query<DD><CODE>sortExpr</CODE> - another XPath expression, which is executed relative to the
 results of the primary expression.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/XMLDBException.html" title="class or interface in org.xmldb.api.base">XMLDBException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="declareVariable(java.lang.String, java.lang.Object)"><!-- --></A><H3>
declareVariable</H3>
<PRE>
void <B>declareVariable</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;qname,
                     <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html" title="class or interface in java.lang">Object</A>&nbsp;initialValue)
                     throws <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/XMLDBException.html" title="class or interface in org.xmldb.api.base">XMLDBException</A></PRE>
<DL>
<DD>Declare an external XPath variable and assign a value to it.
 
 A variable can be referenced inside an XPath expression as
 <b>$variable</b>. For example, if you declare a variable with
 
 <pre>
        declareVariable("name", "HAMLET");
 </pre>
 
 you may use the variable in an XPath expression as follows:
 
 <pre>
        //SPEECH[SPEAKER=$name]
 </pre>
 
 Any Java object may be passed as initial value. The query engine will try
 to map this into a corresponding XPath value. You may also pass an 
 XMLResource as obtained from another XPath expression. This will be
 converted into a node.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>qname</CODE> - a valid QName by which the variable is identified. Any
 prefix should have been mapped to a namespace, i.e. if a variable is called
 <b>x:name</b>, there should be a prefix/namespace mapping for the prefix
 x<DD><CODE>initialValue</CODE> - the initial value, which is assigned to the variable
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/XMLDBException.html" title="class or interface in org.xmldb.api.base">XMLDBException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="beginProtected()"><!-- --></A><H3>
beginProtected</H3>
<PRE>
void <B>beginProtected</B>()
                    throws <A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/XMLDBException.html" title="class or interface in org.xmldb.api.base">XMLDBException</A></PRE>
<DL>
<DD>Execute all following queries in a protected environment. Acquire a write lock
 on all resources in the current collection (i.e. the one from which this service
 was obtained) before executing the query. If a query spans multiple collections,
 call beginProtected on the outer collection which contains all the other
 collections.

 It is thus guaranteed that documents referenced by the
 query or the result set are not modified by other threads
 until <A HREF="../../../org/exist/xmldb/XPathQueryServiceImpl.html#endProtected()"><CODE>endProtected()</CODE></A> is called.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://xmldb.exist-db.org/javadoc/org/xmldb/api/base/XMLDBException.html" title="class or interface in org.xmldb.api.base">XMLDBException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="endProtected()"><!-- --></A><H3>
endProtected</H3>
<PRE>
void <B>endProtected</B>()</PRE>
<DL>
<DD>Close the protected environment. All locks held
 by the current thread are released. The query result set
 is no longer guaranteed to be stable.

 Note: if beginProtected was used, you have to make sure
 endProtected is called in ALL cases. Otherwise some resource
 locks may not be released properly.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/exist/xmldb/XmldbURI.html" title="class in org.exist.xmldb"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/exist/xmldb/XQueryService.html" title="interface in org.exist.xmldb"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/exist/xmldb/XPathQueryServiceImpl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="XPathQueryServiceImpl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright (C) Wolfgang Meier. All rights reserved.
</BODY>
</HTML>
